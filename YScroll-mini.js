(function(h,e){"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?module.exports=e():h.YScroll=e()})(this,function(){var h={wrapper:"#YScroll",autoPlay:!1,interTime:2500,prevCell:".prev",nextCell:".next",sizeDatas:[],centerX:0,centerY:0,a:0,b:0,style:1},e=function(){for(var a={},f=0,c=arguments.length;f<c;f++){var g=void 0,b=arguments[f];for(g in b)b.hasOwnProperty(g)&&(a[g]=b[g])}return a},d=function(){this.wrapper="";this.CardNumber=0;this.arc=360;this.cardWidth=this.cardHeight=
0;this.sizeDatas=[]};d.prototype={conBox:null,nextBtn:null,prevBtn:null,timer:null,init:function(a){this.settings=e(h,a||{});this.wrapper=document.querySelector(this.settings.wrapper);if("undefined"===this.wrapper)return!1;this.sizeDatas=this.settings.sizeDatas;a=$(this.wrapper);self.conBox=$("ul li",a);self.nextBtn=$(this.settings.nextCell,a);self.prevBtn=$(this.settings.prevCell,a);this.cardWidth=self.conBox.width();this.cardHeight=self.conBox.height();0>=this.settings.centerX&&(this.settings.centerX=
a.width()/2+.1*this.cardWidth);0>=this.settings.centerY&&(this.settings.centerY=a.height()/2*.65);this.attachEvent();0>=this.sizeDatas.length&&this.applyEllipse();this.animate();this.doPlay()},animate:function(){for(var a=0;a<this.sizeDatas.length;a++){var f=this.sizeDatas[a];self.conBox.eq(a).css("z-index",f["z-index"]);self.conBox.eq(a).stop().animate(f,500)}},nextCad:function(){var a=d.sizeDatas.shift();d.sizeDatas.push(a);d.animate()},prevCad:function(){var a=this.sizeDatas.pop();this.sizeDatas.unshift(a);
this.animate()},doPlay:function(){if(this.settings.autoPlay){clearInterval(this.timer);var a=this;this.timer=setInterval(function(){a.nextCad()},this.settings.interTime)}},applyEllipse:function(){this.CardNumber=self.conBox.length;for(var a=Math.floor(this.arc/this.CardNumber),f=.22,c,g,b=0;b<this.CardNumber;b++){var d=this.CardNumber-b>=b,e=d?b:this.CardNumber-b;switch(this.settings.style){case 1:c=1-e*(d?f*=.9:f/=.92);break;case 2:c=1-.12*e,.2>c&&(c=g),g=c}var h=Math.PI/180*b*a,k=c*this.cardWidth;
this.sizeDatas[b]={"z-index":d?this.CardNumber-b:b,opacity:1-.02*e,scaleX:c,width:k,height:c*this.cardHeight,top:this.settings.centerY+this.settings.b*Math.cos(h),left:this.settings.centerX-this.settings.a*Math.sin(h)-k*(1-c/2)}}console.log(this.sizeDatas)},attachEvent:function(){var a=this;self.nextBtn&&self.nextBtn.click(this.nextCad);self.prevBtn&&self.prevBtn.click(this.prevCad.bind(this));$(this.settings.wrapper).on({mouseenter:function(){$(".arrow").css("display","block");clearInterval(a.timer)},
mouseleave:function(){$(".arrow").css("display","none");a.doPlay()}})}};return d=new d});